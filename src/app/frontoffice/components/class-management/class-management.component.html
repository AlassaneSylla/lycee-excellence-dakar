<div class="container">
  <section class="row example-container">
    <div class="form-container col-12 col-md-12">
      <form class="example-form" [formGroup]="form" (ngSubmit)="addClass()">
          <div class="col-12 item">
            <mat-form-field class="example-full-width lib" appearance="fill">
              <mat-label>Libellé classe</mat-label>
              <input type="text" minlength="8" maxlength="20" matInput [formControl]="libFormControl" placeholder="Ex. Seconde S A " formControlName="classWording">
              <mat-error *ngIf="libFormControl.hasError('required')">
                Saisir <strong>le libellé</strong>
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="col-12 item">
            <mat-form-field class="example-full-width eff" appearance="fill">
              <mat-label>Effectif classe</mat-label>
              <input type="number" matInput [formControl]="effFormControl" formControlName="classSize">
              <mat-error *ngIf="effFormControl.hasError('required')">
                Renseignez <strong>l'effectif </strong> de la classe
              </mat-error>
            </mat-form-field>
            <div class="row btn-container col-6 mt-1 mb-4">
              <button mat-flat-button color="primary" type="submit" >Ajouter</button>
            </div>
          </div>  
      </form>
    </div>  
  </section>
  
  <div class="table-container my-3">
    <h4>{{ title | uppercase }}</h4>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> Nb. Classes </th>
        <td mat-cell *matCellDef="let element"> {{ element.position }} </td>
      </ng-container>
    
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Libellé </th>
        <td mat-cell *matCellDef="let element"> {{ element.wording | uppercase }} </td>
      </ng-container>
    
      <ng-container matColumnDef="weight">
        <th mat-header-cell *matHeaderCellDef> Effectif </th>
        <td mat-cell *matCellDef="let element"> {{ element.size }} </td>
      </ng-container>
    
      <ng-container matColumnDef="symbol">
        <th mat-header-cell *matHeaderCellDef> Date création </th>
        <td mat-cell *matCellDef="let element"> {{ date() | date }} </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element"> 
          <a routerLink="/frontoffice/update-class/{{ element.position }}" >
            <mat-icon id="icon1">edit</mat-icon>
          </a>
          <button mat-mini-fab color="warn" aria-label="delete icon" (click)="deleteClass(element.position)">
            <mat-icon id="icon2">delete</mat-icon>
          </button>
        </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

  </div>
</div>


<router-outlet></router-outlet> 


